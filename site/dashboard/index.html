<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TERMO 3.0 · Dashboard</title>
  <link rel="stylesheet" href="/style.css">
  <script src="/config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="/assets/supabase-client.js"></script>
  <script defer src="/assets/auth-guard.js"></script>
  <script defer src="/dashboard/dashboard.js"></script>
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="logo">
        <img src="/IMG/termo-3.0.png" alt="TERMO 3.0">
        <div>
          <strong>TERMO 3.0</strong>
          <div class="muted small">Dashboard</div>
        </div>
      </div>
      <nav class="menu">
        <a href="#">Panoramica</a>
        <a href="/ct30/condominio/">Condominio</a>
        <a href="/ct30/pratiche/new/">Pratiche CT3.0</a>
        <a href="#">Documenti</a>
        <a href="#">Impostazioni</a>
      </nav>
    </aside>
    <main class="main-area">
      <header class="topbar">
        <div>
          <div class="muted small">Bentornato</div>
          <div class="row-actions">
            <div id="who"></div>
            <span id="superadmin-badge" class="chip" style="display:none;">SuperAdmin</span>
          </div>
        </div>
        <button id="logout" class="btn">Logout</button>
      </header>
      <section class="container">
        <h1>Dashboard</h1>
        <p class="muted">Area riservata per la gestione Conto Termico 3.0.</p>
      </section>
      <section class="container">
        <div class="section-header">
          <div>
            <h2>Pratiche CT 3.0</h2>
            <p class="muted">Consulta le pratiche in corso e avvia una nuova pratica.</p>
          </div>
          <button id="btn-new-pratica" class="btn inline" type="button">Nuova pratica</button>
        </div>
        <div class="table-card">
          <table id="table-pratiche" class="data-table">
            <thead>
              <tr>
                <th>Titolo</th>
                <th>Soggetto</th>
                <th>Stato</th>
                <th>Data</th>
              </tr>
            </thead>
            <tbody id="table-pratiche-body">
              <tr>
                <td colspan="4" class="muted">Caricamento pratiche...</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="table-pratiche-empty" class="muted small" style="display:none; margin-top:12px;">
          Nessuna pratica trovata. Usa “Nuova pratica” per iniziare.
        </div>
      </section>
    </main>
  </div>
</body>
</html>
